<mat-form-field>
  <mat-select placeholder="Размер узла" [(ngModel)]="size">
    <mat-option value="small">Малый</mat-option>
    <mat-option value="medium">Средний</mat-option>
    <mat-option value="large">Большой</mat-option>
  </mat-select>
</mat-form-field>

<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  <ng-container matColumnDef="technology">
    <th mat-header-cell *matHeaderCellDef> Технология </th>
    <td mat-cell *matCellDef="let technologyChoice">
      <mat-form-field>
        <mat-select (selectionChange)="technologySelected($event.value, technologyChoice)">
          <mat-option>
            Нет
          </mat-option>
          <mat-option *ngFor="let tech of availableTechnologies"
             [value]="tech.code" [disabled]="!isTechnologyEnabled(technologyChoice, tech)">
            {{ tech.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="points">
    <th mat-header-cell *matHeaderCellDef> Вклад </th>
    <td mat-cell *matCellDef="let technologyChoice">
      <mat-slider [disabled]="!enableSlider(technologyChoice)" color="primary"
        min="0" max="10" step="1" tickInterval="1" thumbLabel [(ngModel)]="technologyChoice.points"></mat-slider>
    </td>
    <td mat-footer-cell align="right" *matFooterCellDef><b>Итого:</b></td>
  </ng-container>

  <ng-container *ngFor="let col of getCostsColumns()" [matColumnDef]="col">
    <th mat-header-cell *matHeaderCellDef> {{ humanReadableColumnName(col) }} </th>
    <td mat-cell *matCellDef="let technologyChoice"> {{ getCost(technologyChoice, col) }} </td>
    <td mat-footer-cell *matFooterCellDef><b>{{ getTotalCost(col) }}</b></td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="getAllColumns()"></tr>
  <tr mat-row *matRowDef="let technologyChoice; columns: getAllColumns();"></tr>
  <tr mat-footer-row *matFooterRowDef="getAllColumns()"></tr>
</table>